{% extends 'base.html' %}

{% load static %}

{% block title %}
    Password Change
{% endblock %}

{% block css_link %}
    <link rel="stylesheet" type="text/css" href="{% static 'registration/css/profile.css' %}">
{% endblock %}

{% block content %}
    <section class="py-5 bg-light mt-80">
        <div class="container py-5">
            <div class="bg-white shadow rounded d-block d-sm-flex my-4">
                <div class="profile-tab-nav border-right">
                    <div class="p-4">
                        <div class="img-circle text-center mb-3">
                            <img src="{% static 'registration/img/profile.png' %}" alt="{{ user.username }}"
                                 class="shadow">
                        </div>
                        <h4 class="text-center">{{ user.username }}</h4>
                    </div>
                    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                        <a class="d-flex nav-link" id="account-tab" data-toggle="pill"
                           href="{% url 'accounts:profile' %}#account" role="tab"
                           aria-controls="account" aria-selected="true">
                            <i class="fa fa-user-circle text-center mr-1"></i>
                            <h6 class="me-2 mb-0">Profile</h6>
                        </a>
                        <a class="d-flex nav-link active" id="password-tab" data-toggle="pill"
                           href="#password" role="tab"
                           aria-controls="password" aria-selected="false">
                            <i class="fa fa-key text-center mr-1"></i>
                            <h6 class="me-2 mb-0">Password Change</h6>
                        </a>
                        <a class="d-flex nav-link" href="{% url 'accounts:logout' %}">
                            <i class="fas fa-sign-out-alt text-center mr-1"></i>
                            <h6 class="me-2 mb-0">Logout</h6>
                        </a>
                    </div>
                </div>
                <div class="tab-content p-4 p-md-5" id="v-pills-tabContent">
                    <div class="tab-pane fade show active" id="password" role="tabpanel" aria-labelledby="password-tab">
                        {% if form.non_field_errors %}
                            {% for error in form.non_field_errors %}
                                <div class="non-field error">
                                    {{ error }}
                                </div>
                            {% endfor %}
                        {% endif %}
                        <form method="post">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><h6 class="text-grey me-2">Current Password</h6></label>
                                        <input type="password" name="old_password" class="form-control" required>
                                        {% for error in form.old_password.errors %}
                                            <p class="error">{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><h6 class="text-grey me-2">New Password</h6></label>
                                        <input type="password" name="new_password1" class="form-control" required>
                                        {% for error in form.new_password1.errors %}
                                            <p class="error">{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><h6 class="text-grey me-2">New Password Confirm</h6></label>
                                        <input type="password" name="new_password2" class="form-control" required>
                                        {% for error in form.new_password2.errors %}
                                            <p class="error">{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <button class="cart-btn" type="submit">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

